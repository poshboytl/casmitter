default: &default
  store_options:
    # Cap age of oldest cache entry to fulfill retention policies
    # max_age: <%= 60.days.to_i %>
    max_size: <%= 256.megabytes %>
    namespace: <%= Rails.env %>

development:
  <<: *default

test:
  <<: *default

staging:
  store: redis_cache_store
  url: <%= ENV.fetch("REDIS_URL", "redis://localhost:6379/2") %>
  password: <%= ENV.fetch("REDIS_PASSWORD", "") %>
  ssl: <%= ENV.fetch("REDIS_SSL", "false") == "true" %>
  namespace: casmitter_staging_cache
  expires_in: 1.hour
  reconnect_attempts: 3
  <<: *default

production:
  database: cache
  <<: *default
