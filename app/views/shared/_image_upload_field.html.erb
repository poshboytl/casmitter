<div class="<%= options[:class] %>"
     data-controller="image-upload"
     data-image-upload-max-file-size-value="<%= options[:max_file_size] %>"
     data-image-upload-allowed-types-value='<%= options[:allowed_types].to_json %>'
     data-image-upload-upload-path-value="<%= options[:upload_path] %>"
     data-image-upload-field-name-value="<%= field_name %>"
     data-image-upload-unique-id-value="<%= unique_id %>">
  
  <!-- Hidden file input -->
  <input data-image-upload-target="fileInput" 
         id="<%= unique_id %>_input" 
         name="image-upload" 
         type="file" 
         class="sr-only" 
         accept="image/*" />
  
  <!-- Upload button -->
  <button type="button" 
          class="<%= options[:button_class] %>"
          data-action="click->image-upload#selectFile">
    <%= options[:button_text] %>
  </button>
  
  <!-- Status indicator (optional) -->
  <div data-image-upload-target="status" class="text-sm text-gray-600 mt-1 hidden"></div>
  
  <!-- Hidden form field that will store the uploaded image URL -->
  <%= form.hidden_field field_name, data: { image_upload_target: "hiddenField" } %>
  
  <!-- Validation errors -->
  <% if form.object.errors[field_name].any? %>
    <p class="mt-1 text-sm text-red-600"><%= form.object.errors[field_name].join(', ') %></p>
  <% end %>
</div>
